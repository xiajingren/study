# mysql

mysql学习笔记。。。

## 索引

索引是帮助mysql高效获取数据的排好序的数据结构

### 数据结构

![image-20210702160121818](README.assets\image-20210702160121818.png)

- 二叉树

  左边的子节点小于父节点，右边子节点大于父节点

  缺点：当数据出现单边增长时，会退化成链表结构，达不到优化效果

  ![image-20210702161009634](README.assets/image-20210702161009634.png)

- 红黑树

  平衡二叉树，会随着数据的插入自动做平衡处理，平衡树的左右高度

  ![image-20210702162700935](README.assets/image-20210702162700935.png)

  缺点：数据量大时，树的高度依然不可控

- Hash表

- B-Tree

  - 叶子节点具有相同的深度，叶子节点的指针为空
  - 所有索引元素不重复
  - 节点中的数据索引从左到右递增排列

  ![image-20210702172350609](README.assets/image-20210702172350609.png)

- B+Tree（B-Tree变种）

  - 非叶子节点不存储data，只存储索引（冗余），可以放更多的索引
  - 叶子节点包含所有的索引字段
  - 叶子节点用指针连接，提高区间访问的性能

  ![image-20210702172715980](README.assets/image-20210702172715980.png)

  ps:mysql默认页大小16kb，假如索引字段使用bigint类型(8byte)，一个非叶子节点大概可以存储1000+个索引*16384/(8+下一个子节点的地址)*

  ![image-20210702173900809](README.assets/image-20210702173900809.png)

  

